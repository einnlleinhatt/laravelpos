importScripts('https://storage.googleapis.com/workbox-cdn/releases/5.0.0/workbox-sw.js');

// workbox.setConfig({ debug: true });
// workbox.setConfig({ mode: 'production' });
workbox.core.skipWaiting();
workbox.core.clientsClaim();

// workbox.routing.registerRoute(
//     new RegExp('https://fonts.*|.(?:ttf|woff|woff2)$'),
//     new workbox.strategies.CacheFirst({ cacheName: 'fonts' })
// );

workbox.routing.registerRoute(new RegExp('/(?:icon-|js|css|img)'), new workbox.strategies.CacheFirst());
workbox.routing.registerRoute(new RegExp('.(?:jpg|jpeg|png|gif|svg|ttf|woff|woff2)$'), new workbox.strategies.CacheFirst());
workbox.routing.registerRoute(new RegExp('/'), new workbox.strategies.NetworkFirst({ cacheName: 'pages' }));
workbox.routing.registerRoute(new RegExp('.*(?:googleapis|gstatic).com.*$'), new workbox.strategies.NetworkFirst({ cacheName: 'google' }));

workbox.precaching.precacheAndRoute([{ url: 'offline', revision: Date.now() }].concat([{"revision":"86cbff6a439a0f637e1c44393eec06b4","url":"1024x1024.png"},{"revision":"cb4ed9ab8e8d25530b786b37167804bf","url":"120x120.png"},{"revision":"067e46b6936955f40d72fa607b32cf29","url":"128x128.png"},{"revision":"9379c841dada51c1571676dce6aaa999","url":"144x144.png"},{"revision":"47f2e1f824562d7953a13471202c18d8","url":"152x152.png"},{"revision":"a158c95cea55bb9e3097845fee9e1eab","url":"16x16.png"},{"revision":"4bb6e27a18d4b30d4fe338f909906d31","url":"192x192.png"},{"revision":"f2ee09719cd4e5f6dfa396d4e6a3d961","url":"24x24.png"},{"revision":"949a4ea4c1ea60ffefb6e96d8db33f21","url":"256x256.png"},{"revision":"c130728ab0ae03ca923fbad0c1613705","url":"32x32.png"},{"revision":"6067199fdf4e5805b1afc97e023a8514","url":"48x48.png"},{"revision":"ec0509d38f884bbe6a036ccf25a95937","url":"512x512.png"},{"revision":"38494933b6450b222b233c0e2172bf8c","url":"64x64.png"},{"revision":"1874a765495b5a616bb2dd3fe16121fe","url":"76x76.png"},{"revision":"9f3b2a1f9b6319d75671c4a7c451528d","url":"96x96.png"},{"revision":"d72da724fc1fbcca0b9f7e98633e7436","url":"css/auth.css"},{"revision":"5f58e736cedc0f38a96fe3533ff60dd7","url":"css/default.css"},{"revision":"286d070510ceba4046e145760b9c7599","url":"css/mps_ui.css"},{"revision":"273eaaa84465b98d56dc2bc27aabacf3","url":"css/mps.css"},{"revision":"1b77e015792d20f3786f7246b81e02ca","url":"css/shop.css"},{"revision":"9a9fc95fc58e010f461fdeaa0fe872f8","url":"demo/burger.jpg"},{"revision":"caee93b5d2b699cf21d4b426eea0a500","url":"demo/cookie.jpg"},{"revision":"275a98afcab4ee38047d6bab7376d5a1","url":"demo/meatball.jpg"},{"revision":"54794007b24dfcb7589670ae32d88457","url":"demo/mee.jpg"},{"revision":"fd35bd5f8cce9a295d328891dbdc7895","url":"demo/pancake.jpg"},{"revision":"8c77ae953eeb8375a790c033453dbd53","url":"demo/pasta.jpg"},{"revision":"a72dfc61cc5f9b8a0f7ce4c0b52e0886","url":"demo/sushi.jpg"},{"revision":"a2c4a261a239aa84463dc70e4bac9b9a","url":"fonts/vendor/iview/dist/styles/ionicons.svg"},{"revision":"d535a25a79fb1365ae814b61e88fae71","url":"fonts/vendor/iview/dist/styles/ionicons.ttf"},{"revision":"99ac3308dd8ee14f749f51538d0d5b9e","url":"fonts/vendor/iview/dist/styles/ionicons.woff"},{"revision":"143146fa24554ae2c5ac0a3982abb952","url":"fonts/vendor/iview/dist/styles/ionicons.woff2"},{"revision":"a2c4a261a239aa84463dc70e4bac9b9a","url":"fonts/vendor/view-design/src/styles/common/iconionicons.svg"},{"revision":"d535a25a79fb1365ae814b61e88fae71","url":"fonts/vendor/view-design/src/styles/common/iconionicons.ttf"},{"revision":"99ac3308dd8ee14f749f51538d0d5b9e","url":"fonts/vendor/view-design/src/styles/common/iconionicons.woff"},{"revision":"143146fa24554ae2c5ac0a3982abb952","url":"fonts/vendor/view-design/src/styles/common/iconionicons.woff2"},{"revision":"54beca52c6cf76876ac8e692107ea0e9","url":"images/default.png"},{"revision":"0030c77f4e6531186ef6c081fee41b1b","url":"images/default.svg"},{"revision":"d526cc1fbfcef009a41b46f0be29f938","url":"images/default1.svg"},{"revision":"42adb7610af62152a5d2aac0db7a5116","url":"images/icon.png"},{"revision":"ebf1b388db9c796880ca39faefdbda92","url":"images/icon.svg"},{"revision":"8d2a2d9a8ee9195b17f3ec3b7d5d147a","url":"images/logo.png"},{"revision":"1ab6fe568228adb8b26a2fc12500a29c","url":"images/mps.png"},{"revision":"fb4fba06a6a1a67789986873f3afd4cf","url":"images/paypal-logo.svg"},{"revision":"687a6019d319f5843a261b1d403be96f","url":"images/paypal.png"},{"revision":"28ae9541f2a71cedaf55ee8c9f7ac273","url":"images/pos-ori.png"},{"revision":"e9929bc0910b697c3ee2817f7bbfb783","url":"images/pos.jpg"},{"revision":"25d829ea0aae4c81e1a3c63aa672e170","url":"images/pos.png"},{"revision":"a6691103bfbf31ebfd132c9360685fcc","url":"images/scale_barcode.png"},{"revision":"02c8d587c54741d7df9dd87bbba068d5","url":"js/app.js"},{"revision":"ab985ce13e52cd04e4572b6425bc0af2","url":"js/mps.js"},{"revision":"8166c6f9d27b97accd6f4f6ce0b36eb1","url":"js/vendors~vmps.0db36861c9f19c16f5f8.js"},{"revision":"e2ba8e155061cc0b9fd523ab6a7d6d10","url":"js/vmps.d0c77521d495e5f90d55.js"},{"revision":"bc2c9048d2abc592d59f07ffdccf0a65","url":"offline.html"},{"revision":"bc1e2d1683a769efcf03a0b1bb5fba84","url":"sounds/index.html"},{"revision":"71544070bf0750c6dd265e801a232628","url":"storage/avatars/BykLBFsfxWY5sUT98OjR4djRpTS0zTjRJmxxP5fi.png"},{"revision":"71544070bf0750c6dd265e801a232628","url":"storage/avatars/tNWmz2gsjnwrWt3DaomtQfC9FxkxVUE6G84t5NZI.png"},{"revision":"6067199fdf4e5805b1afc97e023a8514","url":"storage/images/icon.png"},{"revision":"530abe64689d4bfc0dfc0ab4ec02ac7d","url":"storage/images/icon.svg"},{"revision":"55e0e7ebff222ba10a1ef629e78762dd","url":"storage/images/logo.png"},{"revision":"d9f94e3fc04bbda2a46f881514539935","url":"storage/images/logo.svg"},{"revision":"1ab6fe568228adb8b26a2fc12500a29c","url":"storage/images/mps.png"},{"revision":"fbdbee8f9e15ec8f774063ee4dbb3e22","url":"storage/images/mps.svg"},{"revision":"93d6475bd2581cb5aa1b527aa8152a95","url":"svg/403.svg"},{"revision":"ea2bc467605d3d3aa715c6a3655a4e42","url":"svg/404.svg"},{"revision":"f56a358742db1d15fc06934278e59703","url":"svg/500.svg"},{"revision":"bb681f2ad0a2a75161eea851ff83b4e2","url":"svg/503.svg"},{"revision":"c7ed9301f1d8740d3073a30e090807f6","url":"vendor/horizon/css/app.css"},{"revision":"1d3160a1e66b651d38662af632f23e58","url":"vendor/horizon/img/favicon.png"},{"revision":"1f1571ae56d09d2e6cacf0efc478cc2f","url":"vendor/horizon/img/horizon.svg"},{"revision":"5787bbe43c584315b7e4bb4406304e85","url":"vendor/horizon/img/sprite.svg"},{"revision":"75e00d45a19dae52469b892917e29bcc","url":"vendor/horizon/js/app.js"},{"revision":"86a71182e7e3baac7a5d5b6a5ea6a346","url":"vendor/installer/css/app.24d616b7.css"},{"revision":"5e63e3006728102948b39208700e4bd8","url":"vendor/installer/css/app.87ce8ec8.css"},{"revision":"65230a623f32cbb95ea3748a1fba0da6","url":"vendor/installer/index.html"},{"revision":"24568a0389b179a1c078ded6676e0440","url":"vendor/installer/js/app.6c7d5ed3.js"},{"revision":"ee54464cc4c2af9c1704d0ccfca16cd9","url":"vendor/installer/js/app.fdf5f7e5.js"},{"revision":"bc677f5035a67ef65213e74fb5b51291","url":"vendor/installer/js/chunk-vendors.2f603125.js"},{"revision":"387908062c59f8746a35acdfac6b53ab","url":"vendor/installer/js/chunk-vendors.9205cde3.js"},{"revision":"ff722ac6ef71817088c15434163bf93a","url":"vendor/telescope/app-dark.css"},{"revision":"3c765b0499c4e3802fa75b87583fc0a0","url":"vendor/telescope/app.css"},{"revision":"7fc4e151d161f8727fb070cd1d45f37d","url":"vendor/telescope/app.js"}]));

const customHandler = async args => {
  try {
    return (
      (await workbox.strategies
        .NetworkFirst({
          cacheName: 'pages',
          plugins: [new workbox.expiration.ExpirationPlugin({ maxEntries: 200 })],
        })
        .handle(args)) || caches.match('offline')
    );
  } catch (error) {
    return caches.match('offline');
  }
};

const navigationRoute = new workbox.routing.NavigationRoute(customHandler, {
  blacklist: [new RegExp('/(login|password)')],
});

workbox.routing.registerRoute(navigationRoute);
